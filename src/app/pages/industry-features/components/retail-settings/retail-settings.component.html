<div class="retail-settings">
  <div class="header">
    <h2 class="text-xl font-semibold text-gray-900 dark:text-white mb-4">
      üõçÔ∏è Retail Settings
    </h2>
    <p class="text-gray-600 dark:text-gray-400">
      Configure specialized retail features for your business
    </p>
  </div>

  <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
    <!-- Left Column -->
    <div class="space-y-6">
      <!-- Product Types -->
      <div class="setting-card">
        <h3 class="text-lg font-medium mb-4">üì¶ Product Types</h3>
        <div class="space-y-3">
          <div 
            *ngFor="let type of productTypes" 
            class="flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"
          >
            <span class="text-gray-700 dark:text-gray-300">{{ type }}</span>
            <label class="switch">
              <input type="checkbox" checked>
              <span class="slider"></span>
            </label>
          </div>
        </div>
      </div>

      <!-- Pricing Strategies -->
      <div class="setting-card">
        <h3 class="text-lg font-medium mb-4">üí∞ Pricing Strategies</h3>
        <div class="space-y-3">
          <div 
            *ngFor="let strategy of pricingStrategies" 
            class="flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"
          >
            <div>
              <div class="font-medium text-gray-900 dark:text-white">{{ strategy.name }}</div>
              <div class="text-sm text-gray-500 dark:text-gray-400">{{ strategy.type }}</div>
            </div>
            <label class="switch">
              <input 
                type="checkbox" 
                [checked]="strategy.isActive"
                (change)="strategy.isActive = !strategy.isActive"
              >
              <span class="slider"></span>
            </label>
          </div>
        </div>
      </div>

      <!-- Promotions -->
      <div class="setting-card">
        <h3 class="text-lg font-medium mb-4">üéØ Promotions</h3>
        <div class="space-y-4">
          <div class="flex items-center justify-between">
            <span class="text-gray-700 dark:text-gray-300">Enable Promotions</span>
            <label class="switch">
              <input 
                type="checkbox" 
                [checked]="formData.promotions?.enabled"
                (change)="togglePromotions(!formData.promotions?.enabled)"
              >
              <span class="slider"></span>
            </label>
          </div>
          
          <div *ngIf="formData.promotions?.enabled" class="space-y-3">
            <div class="flex items-center">
              <input 
                type="checkbox" 
                id="autoApply"
                [checked]="formData.promotions?.autoApply"
                (change)="updatePromotionSettings({ autoApply: !formData.promotions?.autoApply })"
                class="mr-2"
              >
              <label for="autoApply" class="text-sm text-gray-700 dark:text-gray-300">
                Auto-apply promotions
              </label>
            </div>
            
            <div class="flex items-center">
              <input 
                type="checkbox" 
                id="stackable"
                [checked]="formData.promotions?.stackable"
                (change)="updatePromotionSettings({ stackable: !formData.promotions?.stackable })"
                class="mr-2"
              >
              <label for="stackable" class="text-sm text-gray-700 dark:text-gray-300">
                Allow stacking promotions
              </label>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Right Column -->
    <div class="space-y-6">
      <!-- Returns & Exchanges -->
      <div class="setting-card">
        <h3 class="text-lg font-medium mb-4">üîÑ Returns & Exchanges</h3>
        <div class="space-y-4">
          <div class="flex items-center justify-between">
            <span class="text-gray-700 dark:text-gray-300">Enable Returns</span>
            <label class="switch">
              <input 
                type="checkbox" 
                [checked]="formData.returns?.enabled"
                (change)="toggleReturns(!formData.returns?.enabled)"
              >
              <span class="slider"></span>
            </label>
          </div>
          
          <div *ngIf="formData.returns?.enabled" class="space-y-3">
            <div class="flex items-center">
              <input 
                type="checkbox" 
                id="requireReceipt"
                [checked]="formData.returns?.requireReceipt"
                (change)="updateReturnSettings({ requireReceipt: !formData.returns?.requireReceipt })"
                class="mr-2"
              >
              <label for="requireReceipt" class="text-sm text-gray-700 dark:text-gray-300">
                Require receipt for returns
              </label>
            </div>
            
            <div class="flex items-center">
              <input 
                type="checkbox" 
                id="exchangeOnly"
                [checked]="formData.returns?.exchangeOnly"
                (change)="updateReturnSettings({ exchangeOnly: !formData.returns?.exchangeOnly })"
                class="mr-2"
              >
              <label for="exchangeOnly" class="text-sm text-gray-700 dark:text-gray-300">
                Exchange only (no refunds)
              </label>
            </div>
          </div>
        </div>
      </div>

      <!-- Gift Cards -->
      <div class="setting-card">
        <h3 class="text-lg font-medium mb-4">üéÅ Gift Cards</h3>
        <div class="space-y-4">
          <div class="flex items-center justify-between">
            <span class="text-gray-700 dark:text-gray-300">Enable Gift Cards</span>
            <label class="switch">
              <input 
                type="checkbox" 
                [checked]="formData.giftCards?.enabled"
                (change)="toggleGiftCards(!formData.giftCards?.enabled)"
              >
              <span class="slider"></span>
            </label>
          </div>
          
          <div *ngIf="formData.giftCards?.enabled" class="space-y-3">
            <div class="flex items-center">
              <input 
                type="checkbox" 
                id="reloadable"
                [checked]="formData.giftCards?.reloadable"
                (change)="updateGiftCardSettings({ reloadable: !formData.giftCards?.reloadable })"
                class="mr-2"
              >
              <label for="reloadable" class="text-sm text-gray-700 dark:text-gray-300">
                Allow reloading gift cards
              </label>
            </div>
            
            <div class="flex items-center">
              <input 
                type="checkbox" 
                id="expiryEnabled"
                [checked]="formData.giftCards?.expiryEnabled"
                (change)="updateGiftCardSettings({ expiryEnabled: !formData.giftCards?.expiryEnabled })"
                class="mr-2"
              >
              <label for="expiryEnabled" class="text-sm text-gray-700 dark:text-gray-300">
                Enable gift card expiry
              </label>
            </div>
          </div>
        </div>
      </div>

      <!-- Loyalty Program -->
      <div class="setting-card">
        <h3 class="text-lg font-medium mb-4">‚≠ê Loyalty Program</h3>
        <div class="space-y-4">
          <div class="flex items-center justify-between">
            <span class="text-gray-700 dark:text-gray-300">Enable Loyalty Program</span>
            <label class="switch">
              <input 
                type="checkbox" 
                [checked]="formData.loyalty?.enabled"
                (change)="toggleLoyalty(!formData.loyalty?.enabled)"
              >
              <span class="slider"></span>
            </label>
          </div>
          
          <div *ngIf="formData.loyalty?.enabled" class="space-y-3">
            <div class="grid grid-cols-2 gap-4">
              <div>
                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">
                  Points per $1
                </label>
                <input 
                  type="number" 
                  [value]="formData.loyalty?.pointsPerDollar || 1"
                  (change)="updateLoyaltySettings({ pointsPerDollar: +$event.target.value })"
                  class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800"
                  min="1"
                  max="10"
                >
              </div>
              
              <div>
                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">
                  Redemption rate
                </label>
                <input 
                  type="number" 
                  [value]="formData.loyalty?.redemptionRate || 100"
                  (change)="updateLoyaltySettings({ redemptionRate: +$event.target.value })"
                  class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800"
                  min="10"
                  max="1000"
                >
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Save Button -->
  <div class="mt-8 flex justify-end">
    <button 
      (click)="save.emit()"
      class="bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-lg transition-colors"
    >
      üíæ Save Retail Settings
    </button>
  </div>
</div>